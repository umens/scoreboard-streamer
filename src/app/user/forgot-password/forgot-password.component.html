<div class="accountbg"></div>

<div class="wrapper-page">

  <div class="card">
    <div class="card-body">

      <h3 class="text-center mt-0 m-b-15">
        <a routerLink="/home" class="logo logo-admin">
          <img src="assets/images/logo-dark.png" height="30" alt="logo">
        </a>
      </h3>

      <h4 class="text-muted text-center font-18">
        <b>Reset Password</b>
      </h4>

      <div class="p-3" [hidden]="mailSend">
        <form class="form-horizontal m-t-20" (ngSubmit)="forgot()" [formGroup]="forgotPasswordForm" novalidate>

          <div class="alert alert-info alert-dismissible">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
            Enter your
            <b>Email</b> and instructions will be sent to you!
          </div>

            <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="error">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
                <strong>Oh snap!</strong> {{ error?.message }}
            </div>

          <div class="form-group">
            <div class="col-xs-12">
              <input class="form-control" type="email" id="inputEmail" placeholder="Email address" formControlName="email" autocomplete="email"
                required />
              <small [hidden]="!!forgotPasswordForm.controls.email.valid || !!forgotPasswordForm.controls.email.untouched" class="text-danger">
                Email is required
              </small>
            </div>
          </div>

          <div class="form-group text-center row m-t-20">
            <div class="col-12">
              <button class="btn btn-info btn-block" appRipple type="submit" [disabled]="forgotPasswordForm.invalid || isLoading">
                <i class="fas fa-cog fa-spin" [hidden]="!isLoading"></i> Send Email
              </button>
            </div>
          </div>

        </form>
      </div>

      <div class="p-3" [hidden]="!mailSend">
        <div class="alert alert-success alert-dismissible" role="alert">
          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
          <h4 class="alert-heading font-18">Email sent!</h4>
          <p>An email has been send to you with a temporary password that needs to be change.</p>
          <p>You will be redirect automaticaly to the login page in 10 seconds or click <a routerLink="/login">here</a>.</p>
          <p class="mb-0">Check your
            <b>SPAM</b> folder</p>
        </div>
      </div>

    </div>
  </div>
</div>
